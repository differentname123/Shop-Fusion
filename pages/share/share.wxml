<view class="page-container">
  <!-- 页面标题 -->
  <title-nav id="titleNav" title="分享我的团"></title-nav>

  <!-- 添加顶部填充以避免被导航栏遮挡 -->
  <view class="content" style="margin-top: {{navBarHeight}}rpx;">
    <!-- 教程按钮 -->
    <button class="tutorial-button" bindtap="goToTutorial">查看教程</button>

    <!-- 二维码扫描按钮 -->
    <view class="upload-section">
      <button class="upload-button" bindtap="scanQRCode">扫描二维码</button>
    </view>

    <!-- 加载动画 -->
    <view wx:if="{{loading}}" class="loading-section">
      <text>正在解析二维码...</text>
      <view class="loading-spinner"></view>
    </view>

    <!-- 显示二维码解析结果 -->
    <scroll-view scroll-x="true" class="image-preview">
      <block wx:for="{{images}}" wx:key="index">
        <view class="image-item">
          <image wx:if="{{item.path}}" src="{{item.path}}" class="preview-image"></image>
          <text class="parse-result">
            {{item.shortResult}}
          </text>
        </view>
      </block>
    </scroll-view>

    <!-- 分享按钮 -->
    <view class="action-buttons" wx:if="{{hasUnsharedData}}">
      <button bindtap="shareResults">分享</button>
    </view>
  </view>
</view>